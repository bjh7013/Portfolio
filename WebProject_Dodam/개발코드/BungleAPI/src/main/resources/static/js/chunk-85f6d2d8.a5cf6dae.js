(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85f6d2d8","chunk-c7ec84de"],{1428:function(t,s,e){t.exports=e.p+"img/flag.ec122100.png"},"17c5":function(t,s,e){t.exports=e.p+"img/tur.5cb242c8.png"},"1afe":function(t,s,e){"use strict";var n=e("871b"),i=e.n(n);i.a},2897:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"contain"},[n("div",{staticClass:"wordheader"},[n("section",[t.classCheck?t._e():n("div",{staticClass:"back_menu",on:{click:t.gowordcategory}},[n("i",{staticClass:"fas fa-arrow-circle-left fa-1x",staticStyle:{margin:"5px"}}),t._v("낱말연습")]),t.classCheck?n("div",{staticClass:"back_menu",on:{click:t.goclass}},[n("i",{staticClass:"fas fa-arrow-circle-left fa-1x",staticStyle:{margin:"5px"}}),t._v("클래스")]):t._e()]),n("div",{staticStyle:{margin:"1%"}},[t._v(t._s(this.$route.params.categoryName))])]),n("div",{staticClass:"maincontent"},[n("div",{staticClass:"goallist"},t._l(t.wordList.length,(function(s){return n("div",{key:s},[t.index==s-1?[n("img",{staticClass:"goalimg",staticStyle:{height:"3vw",width:"3vw"},attrs:{src:e("1428")}}),n("img",{staticClass:"goalimg",attrs:{src:e("17c5")}})]:t._e(),t.index!=s-1&&s!=t.wordList.length?[n("img",{staticClass:"goalimg",staticStyle:{height:"3vw",width:"3vw"},attrs:{src:e("1428")}}),n("img",{staticClass:"goalimg",attrs:{src:e("6cb5")}})]:t._e(),t.index!=t.wordList.length-1&&s==t.wordList.length?[n("img",{staticClass:"goalimg",attrs:{src:e("1428")}})]:t._e()],2)})),0),n("div",{staticClass:"center"}),n("div",{staticClass:"conmain"},[t.nowshow.wordImg?n("div",[n("img",{staticClass:"cimg",attrs:{src:t.$store.getters.BACKEND_URL+t.nowshow.wordImg},on:{click:t.clickread}}),n("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2vh"},on:{click:t.clickread}},[n("div",{staticClass:"cfont ismobile",on:{click:function(s){return t.showhint()}}},[t._v(" 정답"),n("p",{staticClass:"nomobile"},[t._v("확인")])]),n("div",{staticClass:"cfont",staticStyle:{opacity:"0"},attrs:{id:"hint"}},[t._v(" "+t._s(t.nowshow.word)+" ")]),t.korAudioLoaded?n("i",{staticClass:"fas fa-play-circle fa-2x",staticStyle:{color:"#baeb34"}}):n("loading-icon")],1)]):t._e(),n("div",{staticClass:"noimg"},[n("div",[n("button",{staticClass:"btn btn-info",attrs:{id:"clear-ans"},on:{click:t.clearCanvas}},[n("i",{staticClass:"fas fa-eraser"})]),n("div",{staticClass:"inputdiv radiusboard"},[n("div",{attrs:{id:"keyboard"}},[n("label",[t._v("따라치기 : ")]),n("b-form-input",{attrs:{type:"text",maxlength:"7"},model:{value:t.anstext,callback:function(s){t.anstext=s},expression:"anstext"}}),n("div",{staticClass:"rewrite"},[t._v(" "+t._s(t.anstext)+" ")])],1),n("div",{attrs:{id:"penandmouse"}},[n("canvas",{ref:"c",staticClass:"lower-canvas",staticStyle:{border:"1px solid rgb(170, 170, 170)","touch-action":"none","user-select":"none"},attrs:{id:"c"}}),n("div",{staticClass:"cfont",staticStyle:{margin:"2vh"}},[t._v(t._s(this.result))])])])]),n("div",{staticClass:"btn-wrapper"},[n("div",{staticClass:"clickbtns"},[n("v-btn",{staticClass:"clickbtn",attrs:{id:"iconkeyboard"},on:{click:t.keyboardInput}},[n("i",{staticClass:"fas fa-keyboard"}),n("p",{staticClass:"nomobile"},[t._v("키보드 ")])]),n("v-btn",{staticClass:"clickbtn",attrs:{id:"iconpenandmouse"},on:{click:t.touchInput}},[n("i",{staticClass:"fas fa-pencil-alt"}),n("p",{staticClass:"nomobile"},[t._v("펜/"),n("i",{staticClass:"mdi mdi-mouse"}),t._v("마우스")])]),t.index<t.totalword-1?[n("b-button",{staticClass:"clicknextbtn",on:{click:t.nextword}},[t._v(" 다음 ")])]:t._e(),t.index>=t.totalword-1?[n("b-button",{staticClass:"clicknextbtn",on:{click:t.finish}},[t._v(" 완료 ")])]:t._e()],2)])])])]),n("img",{attrs:{id:"ansimgid",src:t.ansimg}})])},i=[],a=e("b85c"),o=e("bc3a"),c=e.n(o),r=e("7a94"),d=e("c5af"),l={name:"WordTest",components:{LoadingIcon:d["default"]},data:function(){return{API_ENDPOINT:"https://inputtools.google.com/request?ime=handwriting&app=autodraw&dbg=1&cs=1&oe=UTF-8",wordList:[],categoryNo:null,categoryName:null,homeworkNo:null,homeworkName:null,korAudioLoaded:!0,correct:!1,canvas:null,url:"http://k3d206.p.ssafy.io",anstext:"",ansimg:"",totalword:4,nowshow:[],result:"",stencils:[],suggestions:[],preX:0,preY:0,curX:0,curY:0,pressedAt:0,isPressing:!1,maxX:1e5,minX:0,maxY:1e5,minY:0,shapes:[],curShape:[],inputtype:0,index:0,show:!0,classCheck:!1}},created:function(){this.getWord()},mounted:function(){var t=this;function s(){var t=window.__canvas=new r["fabric"].Canvas("c",{isDrawingMode:!0});window.innerWidth>480?(t.setWidth(3.5*window.innerWidth/10),t.setHeight(3.5*window.innerWidth/10)):(t.setWidth(7*window.innerWidth/10),t.setHeight(7*window.innerWidth/10)),r["fabric"].Object.prototype.transparentCorners=!1;var s=window.__canvases||window.canvases;if(t&&t.calcOffset&&t.calcOffset(),s&&s.length)for(var e=0,n=s.length;e<n;e++)s[e].calcOffset()}"complete"==document.readyState?(s(),this.canvas=window.__canvas,this.setEventHandlers(),this.touchInput(),this.createCanvas()):window.onload=function(){s(),t.canvas=window.__canvas,t.setEventHandlers(),t.touchInput(),t.createCanvas()},this.wordList=this.ttsList,this.nowshow=this.wordList[0]},methods:{getWord:function(){var t,s=this;this.$route.params.categoryNo?(this.categoryNo=this.$route.params.categoryNo,t="/wordtest/categorywordtest/"+this.categoryNo):(this.classCheck=!0,this.homeworkNo=this.$route.params.homeworkNo,t="/wordtest/homeworkwordtest/"+this.homeworkNo),c.a.get(t).then((function(t){s.wordList=t.data,s.totalword=s.wordList.length,s.nowshow=s.wordList[0];var e,n=Object(a["a"])(s.wordList);try{var i=function(){var t=e.value;c.a.post("/tts",{language:"ko-KR",text:t.word}).then((function(s){var e=s.data;t.audioPath=e}))};for(n.s();!(e=n.n()).done;)i()}catch(o){n.e(o)}finally{n.f()}})).catch((function(t){}))},goclass:function(){this.$router.push("/class")},showhint:function(){document.getElementById("hint").style.opacity="1"},gowordcategory:function(){this.$router.push("/wordcategory")},getNoni:function(){var t=this;c.a.post(this.API_ENDPOINT,{input_type:0,requests:[{ink:this.shapes,language:"ko",writing_guide:{width:this.canvas.width,height:this.canvas.height}}]},{transformRequest:function(t,s){return s.common["content-type"]="application/json",delete s.common["Authorization"],JSON.stringify(t)}}).then((function(s){var e=s.data;t.result=e[1][0][1][0],t.correct=t.result==t.nowshow.word}))},setEventHandlers:function(){this.pressedAt=Date.now(),this.canvas.on("mouse:down",this.onDrawingMouseDown),this.canvas.on("mouse:move",this.onDrawingMouseMove),this.canvas.on("mouse:up",this.onDrawingMouseUp),this.canvas.on("touch:start",this.onDrawingMouseDown),this.canvas.on("touch:move",this.onDrawingMouseMove),this.canvas.on("touch:end",this.onDrawingMouseUp)},createCanvas:function(){document.getElementsByClassName("upper-canvas")},keyboardInput:function(){var t=document.getElementById("keyboard");t.style.display="block";var s=document.getElementById("iconkeyboard");s.style.opacity="1";var e=document.getElementById("penandmouse");e.style.display="none";var n=document.getElementById("iconpenandmouse");n.style.opacity="0.3";var i=document.getElementById("clear-ans");i.style.opacity="0",i.style.margin="10vw",this.inputtype=1},touchInput:function(){var t=document.getElementById("keyboard");t.style.display="none";var s=document.getElementById("iconkeyboard");s.style.opacity="0.3";var e=document.getElementById("penandmouse");e.style.display="block";var n=document.getElementById("iconpenandmouse");n.style.opacity="1";var i=document.getElementById("clear-ans");i.style.opacity="1",i.style.margin="1vw",this.inputtype=0},clearCanvas:function(){this.canvas.clear(),this.result="",this.shapes=[]},nextword:function(){this.pressedAt=Date.now(),this.index=this.index+1;var t=document.getElementById("c");this.ansimg=t.toDataURL(),document.getElementById("hint").style.opacity="0",this.submitTest(),this.nowshow=this.wordList[this.index],this.clearCanvas(),this.correct=!1,this.anstext="",this.ansimg=null},finish:function(){this.submitTest(),this.gowordcategory()},submitTest:function(){this.correct||(this.correct=this.anstext==this.nowshow.word),this.ansimg=this.$refs.c.toDataURL();var t={wordTestNo:this.nowshow.testNo,submitAnswer:this.anstext,submitImgData:this.ansimg,correct:this.correct};c.a.post("/wordtestsubmit/wordtestsubmit",t).then((function(t){})).catch((function(t){}))},onDrawingMouseDown:function(t){this.isPressing=!0,t.pointer.x<0&&(t.pointer.x=0),t.pointer.y<0&&(t.pointer.y=0),this.clearCurShape(),this.curShape[0].push(t.pointer.x),this.curShape[1].push(t.pointer.y),this.curShape[2].push(Date.now()-this.pressedAt),console.dir(t)},onDrawingMouseMove:function(t){this.isPressing&&(t.pointer.x<0&&(t.pointer.x=0),t.pointer.y<0&&(t.pointer.y=0),this.curShape[0].push(t.pointer.x),this.curShape[1].push(t.pointer.y),this.curShape[2].push(Date.now()-this.pressedat))},onDrawingMouseUp:function(){this.isPressing=!1,this.shapes.push(this.curShape),this.getNoni()},clearCurShape:function(){this.curShape=[[],[],[]]},clickread:function(){var t=this;this.korAudioLoaded=!1;var s=setInterval((function(){console.log("try"),c.a.get(t.$store.getters.BACKEND_URL+t.nowshow.audioPath).then((function(){clearInterval(s),t.korAudioLoaded=!0,new Audio(t.$store.getters.BACKEND_URL+t.nowshow.audioPath).play()})).catch((function(){}))}),300)}}},u=l,h=(e("9b97"),e("2877")),m=e("6544"),w=e.n(m),p=e("8336"),g=Object(h["a"])(u,n,i,!1,null,"2a9702fa",null);s["default"]=g.exports;w()(g,{VBtn:p["a"]})},"6cb5":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABRCAYAAABIU1FPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMDoxMToxMCAxMjoyMzoyM3x3E7cAAADPSURBVHhe7dChAcAgEMDAp/vv0vGQ1HQE4u5MfNbZ7xmue/5ymbERYyPGRoyNGBsxNmJsxNiIsRFjI8ZGjI0YGzE2YmzE2IixEWMjxkaMjRgbMTZibMTYiLERYyPGRoyNGBsxNmJsxNiIsRFjI8ZGjI0YGzE2YmzE2IixEWMjxkaMjRgbMTZibMTYiLERYyPGRoyNGBsxNmJsxNiIsRFjI8ZGjI0YGzE2YmzE2IixEWMjxkaMjRgbMTZibMTYiLERYyPGRoyNGBsxNmJsYuYDcMAERg+3vBEAAAAASUVORK5CYII="},"871b":function(t,s,e){},"9b97":function(t,s,e){"use strict";var n=e("d841"),i=e.n(n);i.a},b85c:function(t,s,e){"use strict";e.d(s,"a",(function(){return i}));e("a4d3"),e("e01a"),e("d28b"),e("d3b7"),e("3ca3"),e("ddb0");var n=e("06c5");function i(t,s){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=Object(n["a"])(t))||s&&t&&"number"===typeof t.length){e&&(t=e);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,r=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return c=t.done,t},e:function(t){r=!0,o=t},f:function(){try{c||null==e["return"]||e["return"]()}finally{if(r)throw o}}}}},c5af:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"icon-wrapper"},[e("div",{staticClass:"loader",attrs:{id:"loading-icon"}},[e("div",{staticClass:"loader",attrs:{id:"inner-loading-icon"}})])])}],a={},o=a,c=(e("1afe"),e("2877")),r=Object(c["a"])(o,n,i,!1,null,"33921cbe",null);s["default"]=r.exports},d841:function(t,s,e){}}]);
//# sourceMappingURL=chunk-85f6d2d8.a5cf6dae.js.map