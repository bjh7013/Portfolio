(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb775f5a"],{1428:function(t,s,e){t.exports=e.p+"img/flag.ec122100.png"},"17c5":function(t,s,e){t.exports=e.p+"img/tur.5cb242c8.png"},2897:function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"contain"},[o("v-container",[o("div",{staticClass:"wordheader"},[o("section",[t.classCheck?t._e():o("div",{staticClass:"back_menu",on:{click:t.gowordcategory}},[o("i",{staticClass:"fas fa-arrow-circle-left fa-1x",staticStyle:{margin:"5px"}}),t._v("낱말연습")]),t.classCheck?o("div",{staticClass:"back_menu",on:{click:t.goclass}},[o("i",{staticClass:"fas fa-arrow-circle-left fa-1x",staticStyle:{margin:"5px"}}),t._v("클래스")]):t._e()]),o("div",{staticStyle:{margin:"2%"}},[t._v(t._s(t.categoryName))])]),o("div",{staticClass:"maincontent"},[o("div",{staticClass:"goallist"},t._l(10,(function(s){return o("div",{key:s},[t.index==s-1?[o("img",{staticClass:"goalimg",attrs:{src:e("17c5")}})]:t._e(),t.index!=s-1&&10!=s?[o("img",{staticClass:"goalimg",attrs:{src:e("6cb5")}})]:t._e(),9!=t.index&&10==s?[o("img",{staticClass:"goalimg",attrs:{src:e("1428")}})]:t._e()],2)})),0),o("div",{staticClass:"center"}),o("div",{staticClass:"conmain"},[o("div",[o("img",{staticClass:"cimg",attrs:{src:t.$store.getters.BACKEND_URL+this.nowshow.wordImg},on:{click:t.clickread}}),o("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2vh"},on:{click:t.clickread}},[o("div",{staticClass:"cfont",on:{click:function(s){return t.showhint()}}},[t._v(" 정답확인 ")]),o("div",{staticClass:"cfont",staticStyle:{opacity:"0"},attrs:{id:"hint"}},[t._v(" "+t._s(t.nowshow.word)+" ")]),t.korAudioLoaded?o("i",{staticClass:"fas fa-play-circle fa-2x",staticStyle:{color:"#baeb34"}}):o("loading-icon")],1)]),o("div",{staticClass:"noimg"},[o("button",{staticClass:"btn btn-info",attrs:{id:"clear-ans"},on:{click:t.clearCanvas}},[o("i",{staticClass:"fas fa-eraser"})]),o("div",{staticClass:"inputdiv radiusboard"},[o("div",{attrs:{id:"keyboard"}},[o("label",[t._v("따라치기 : ")]),o("b-form-input",{attrs:{type:"text",maxlength:"7"},model:{value:t.anstext,callback:function(s){t.anstext=s},expression:"anstext"}}),o("div",{staticClass:"rewrite"},[t._v(" "+t._s(t.anstext)+" ")])],1),o("div",{attrs:{id:"penandmouse"}},[o("canvas",{ref:"c",staticClass:"lower-canvas",staticStyle:{border:"1px solid rgb(170, 170, 170)","touch-action":"none","user-select":"none"},attrs:{id:"c"}}),o("div",{attrs:{id:"resultko"}},[t._v(t._s(this.result))])])]),o("div",{staticClass:"btn-wrapper"},[o("div",{staticClass:"clickbtns"},[o("v-btn",{staticClass:"clickbtn",attrs:{id:"iconkeyboard"},on:{click:t.keyboardInput}},[o("i",{staticClass:"fas fa-keyboard"}),t._v("키보드")]),o("v-btn",{staticClass:"clickbtn",attrs:{id:"iconpenandmouse"},on:{click:t.touchInput}},[o("i",{staticClass:"fas fa-pencil-alt"}),t._v("펜/"),o("i",{staticClass:"mdi mdi-mouse"}),t._v("마우스")])],1),o("div",{staticClass:"wordtestfooter"},[t.index<t.totalword-1?[o("b-button",{on:{click:t.nextword}},[t._v(" 다음 ")])]:t._e(),t.index>=t.totalword-1?[o("b-button",{on:{click:t.finish}},[t._v(" 완료 ")])]:t._e()],2)])])])]),o("img",{attrs:{id:"ansimgid",src:t.ansimg}})])],1)},n=[],i=e("b85c"),a=e("bc3a"),c=e.n(a),r=e("7a94"),d=e("c5af"),h={name:"WordTest",components:{LoadingIcon:d["a"]},data:function(){return{API_ENDPOINT:"https://inputtools.google.com/request?ime=handwriting&app=autodraw&dbg=1&cs=1&oe=UTF-8",wordList:[],categoryNo:null,categoryName:null,homeworkNo:null,homeworkName:null,korAudioLoaded:!0,correct:!1,canvas:null,url:"http://k3d206.p.ssafy.io",anstext:"",ansimg:"",totalword:4,nowshow:[],result:"",stencils:[],suggestions:[],preX:0,preY:0,curX:0,curY:0,pressedAt:0,isPressing:!1,maxX:1e5,minX:0,maxY:1e5,minY:0,shapes:[],curShape:[],inputtype:0,index:0,show:!0,ttsList:[{testno:5,wordimg:"http://cdn.kormedi.com/wp-content/uploads/2019/08/gettyimages-923832604_580.jpg",word:"사과사과사과사",homeworkno:0,categoryno:1},{testno:6,wordimg:"https://cdn.vuetifyjs.com/images/cards/desert.jpg",word:"배",homeworkno:0,categoryno:1},{testno:7,wordimg:"http://mimg.segye.com/content/image/2017/08/30/20170830515039.jpg",word:"포도",homeworkno:0,categoryno:1},{testno:4,wordimg:"https://i2.wp.com/sharehows.com/wp-content/uploads/2014/10/%EA%B0%80%EC%9D%84%EC%9D%84-%EB%8C%80%ED%91%9C%ED%95%98%EB%8A%94-%EA%B0%90-4.jpg?resize=800%2C533",word:"감",homeworkno:0,categoryno:1}],classCheck:!1}},created:function(){this.getWord()},mounted:function(){var t=this;function s(){var t=window.__canvas=new r["fabric"].Canvas("c",{isDrawingMode:!0});t.setWidth(3.5*window.innerWidth/10),t.setHeight(3.5*window.innerWidth/10),r["fabric"].Object.prototype.transparentCorners=!1;var s=window.__canvases||window.canvases;if(t&&t.calcOffset&&t.calcOffset(),s&&s.length)for(var e=0,o=s.length;e<o;e++)s[e].calcOffset()}"complete"==document.readyState?(s(),this.canvas=window.__canvas,this.setEventHandlers()):window.onload=function(){s(),t.canvas=window.__canvas,t.setEventHandlers()},this.wordList=this.ttsList,this.nowshow=this.wordList[0],this.touchInput(),this.createCanvas()},methods:{getWord:function(){var t,s=this;this.$route.params.categoryNo?(this.categoryNo=this.$route.params.categoryNo,t="/wordtest/categorywordtest/"+this.categoryNo):(this.classCheck=!0,this.homeworkNo=this.$route.params.homeworkNo,t="/wordtest/homeworkwordtest/"+this.homeworkNo),c.a.get(t).then((function(t){s.wordList=t.data,s.totalword=s.wordList.length,s.nowshow=s.wordList[0];var e,o=Object(i["a"])(s.wordList);try{var n=function(){var t=e.value;c.a.post("/tts",{language:"ko-KR",text:t.word}).then((function(s){var e=s.data;t.audioPath=e}))};for(o.s();!(e=o.n()).done;)n()}catch(a){o.e(a)}finally{o.f()}})).catch((function(t){console.log(t)}))},goclass:function(){this.$router.push("/class")},showhint:function(){document.getElementById("hint").style.opacity="1"},gowordcategory:function(){this.$router.push("/wordcategory")},getNoni:function(){var t=this;c.a.post(this.API_ENDPOINT,{input_type:0,requests:[{ink:this.shapes,language:"ko",writing_guide:{width:this.canvas.width,height:this.canvas.height}}]},{transformRequest:function(t,s){return s.common["content-type"]="application/json",delete s.common["Authorization"],JSON.stringify(t)}}).then((function(s){var e=s.data;t.result=e[1][0][1][0],t.correct=t.result==t.nowshow.word}))},clearword:function(){},setEventHandlers:function(){this.pressedAt=Date.now(),this.canvas.on("mouse:down",this.onDrawingMouseDown),this.canvas.on("mouse:move",this.onDrawingMouseMove),this.canvas.on("mouse:up",this.onDrawingMouseUp),this.canvas.on("touch:start",this.onDrawingMouseDown),this.canvas.on("touch:move",this.onDrawingMouseMove),this.canvas.on("touch:end",this.onDrawingMouseUp)},createCanvas:function(){var t=document.getElementsByClassName("upper-canvas");console.log(t)},keyboardInput:function(){var t=document.getElementById("keyboard");t.style.display="block";var s=document.getElementById("iconkeyboard");s.style.opacity="1";var e=document.getElementById("penandmouse");e.style.display="none";var o=document.getElementById("iconpenandmouse");o.style.opacity="0.3";var n=document.getElementById("clear-ans");n.style.opacity="0",n.style.margin="30vw",this.inputtype=1},touchInput:function(){var t=document.getElementById("keyboard");t.style.display="none";var s=document.getElementById("iconkeyboard");s.style.opacity="0.3";var e=document.getElementById("penandmouse");e.style.display="block";var o=document.getElementById("iconpenandmouse");o.style.opacity="1";var n=document.getElementById("clear-ans");n.style.opacity="1",n.style.margin="1vw",this.inputtype=0},clearCanvas:function(){this.canvas.clear(),this.shapes=[]},nextword:function(){this.pressedAt=Date.now(),this.index=this.index+1;var t=document.getElementById("c");this.ansimg=t.toDataURL(),document.getElementById("hint").style.opacity="0",this.submitTest(),this.nowshow=this.wordList[this.index],this.clearCanvas(),this.correct=!1,this.anstext=null,this.ansimg=null},finish:function(){this.submitTest(),this.gowordcategory()},submitTest:function(){this.correct||(this.correct=this.anstext==this.nowshow.word),this.ansimg=this.$refs.c.toDataURL();var t={wordTestNo:this.nowshow.testNo,submitAnswer:this.anstext,submitImgData:this.ansimg,correct:this.correct};c.a.post("/wordtestsubmit/wordtestsubmit",t).then((function(t){})).catch((function(t){}))},onDrawingMouseDown:function(t){this.isPressing=!0,t.pointer.x<0&&(t.pointer.x=0),t.pointer.y<0&&(t.pointer.y=0),this.clearCurShape(),this.curShape[0].push(t.pointer.x),this.curShape[1].push(t.pointer.y),this.curShape[2].push(Date.now()-this.pressedAt),console.dir(t)},onDrawingMouseMove:function(t){this.isPressing&&(t.pointer.x<0&&(t.pointer.x=0),t.pointer.y<0&&(t.pointer.y=0),this.curShape[0].push(t.pointer.x),this.curShape[1].push(t.pointer.y),this.curShape[2].push(Date.now()-this.pressedat))},onDrawingMouseUp:function(){this.isPressing=!1,this.shapes.push(this.curShape),this.getNoni()},clearCurShape:function(){this.curShape=[[],[],[]]},clickread:function(){var t=this;this.korAudioLoaded=!1;var s=setInterval((function(){console.log("try"),c.a.get(t.$store.getters.BACKEND_URL+t.nowshow.audioPath).then((function(){clearInterval(s),t.korAudioLoaded=!0,new Audio(t.$store.getters.BACKEND_URL+t.nowshow.audioPath).play()})).catch((function(){}))}),300)}}},l=h,u=(e("e72d"),e("2877")),m=e("6544"),p=e.n(m),g=e("8336"),w=e("a523"),v=Object(u["a"])(l,o,n,!1,null,"14b83e40",null);s["default"]=v.exports;p()(v,{VBtn:g["a"],VContainer:w["a"]})},"6a47":function(t,s,e){},"6cb5":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABRCAYAAABIU1FPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMDoxMToxMCAxMjoyMzoyM3x3E7cAAADPSURBVHhe7dChAcAgEMDAp/vv0vGQ1HQE4u5MfNbZ7xmue/5ymbERYyPGRoyNGBsxNmJsxNiIsRFjI8ZGjI0YGzE2YmzE2IixEWMjxkaMjRgbMTZibMTYiLERYyPGRoyNGBsxNmJsxNiIsRFjI8ZGjI0YGzE2YmzE2IixEWMjxkaMjRgbMTZibMTYiLERYyPGRoyNGBsxNmJsxNiIsRFjI8ZGjI0YGzE2YmzE2IixEWMjxkaMjRgbMTZibMTYiLERYyPGRoyNGBsxNmJsYuYDcMAERg+3vBEAAAAASUVORK5CYII="},e72d:function(t,s,e){"use strict";var o=e("6a47"),n=e.n(o);n.a}}]);
//# sourceMappingURL=chunk-eb775f5a.4491c69e.js.map