(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29578f5d"],{"1afd":function(t,n,i){"use strict";var e=i("4ca6"),a=i.n(e);a.a},"4ca6":function(t,n,i){},"77ce":function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"wrapper"},[i("canvas",{ref:"c",staticClass:"lower-canvas",staticStyle:{position:"relative",border:"1px solid rgb(170, 170, 170)","touch-action":"none","user-select":"none"},attrs:{id:"c",width:"600px",height:"600px"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.letter,expression:"letter"}],staticStyle:{"background-color":"white"},attrs:{type:"text"},domProps:{value:t.letter},on:{input:function(n){n.target.composing||(t.letter=n.target.value)}}}),i("button",{on:{click:t.getLetterImg}},[t._v("get letter image")]),i("br"),i("button",{on:{click:t.curveLetter}},[t._v("to JSON")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pathString,expression:"pathString"}],attrs:{rows:"5",cols:"50"},domProps:{value:t.pathString},on:{input:function(n){n.target.composing||(t.pathString=n.target.value)}}}),i("button",{staticStyle:{"background-color":"white"},on:{click:t.next}},[t._v("다음 획")]),i("button",{staticStyle:{"margin-left":"20px","background-color":"white"},on:{click:t.submit}},[t._v("제출")])])},a=[],r=(i("99af"),i("4160"),i("baa5"),i("fb6a"),i("159b"),i("7a94")),s=i("bc3a"),o=i.n(s),c={data:function(){return{letter:"",pathString:"[\n[",curPathIdx:0,imgWidth:0,imgHeight:0,imgName:""}},methods:{curveLetter:function(){var t=this;this.pathString="[\n[";for(var n=1;n<window.__canvas._objects.length;n++)window.__canvas._objects[n].path.forEach((function(n){t.pathString+="[".concat(n[1],",").concat(n[2],"],")})),this.pathString=this.pathString.slice(0,-1),this.pathString+="],\n[";this.pathString=this.pathString.slice(0,-4),this.pathString+="]\n]",o.a.post("/point",{path:this.pathString,imgWidth:this.imgWidth,imgHeight:this.imgHeight,fileName:"".concat(this.imgName,".json"),ani:!0})},getLetterImg:function(){var t=this,n=encodeURI("letter/".concat(this.letter));r["fabric"].Image.fromURL("".concat(this.$store.getters.BACKEND_URL,"/").concat(n,".png"),(function(n){n.set({left:0,top:0}),t.canvas.add(n),t.imgWidth=n.width,t.imgHeight=n.height,t.imgName=t.letter}))},init:function(){this.prepareCanvas(),this.canvas=window.__canvas,this.setEventHandlers()},prepareCanvas:function(){var t=window.__canvas=new r["fabric"].Canvas("c",{isDrawingMode:!0});r["fabric"].Object.prototype.transparentCorners=!1,t.freeDrawingBrush.width=4;var n=window.__canvases||window.canvases;if(t&&t.calcOffset&&t.calcOffset(),n&&n.length)for(var i=0,e=n.length;i<e;i++)n[i].calcOffset()},setEventHandlers:function(){document.addEventListener("keydown",this.undo),this.canvas.on("mouse:down",this.setPoint)},setPoint:function(t){this.pathString+="[".concat(Math.round(t.pointer.x),", ").concat(Math.round(t.pointer.y),"],")},next:function(){this.pathString=this.pathString.slice(0,-1),this.pathString+="],\n["},submit:function(){this.pathString=this.pathString.slice(0,-1),this.pathString+="]\n]",o.a.post("/point",{path:this.pathString,imgWidth:this.imgWidth,imgHeight:this.imgHeight,fileName:"".concat(this.imgName,".json")})},undo:function(t){if(90==t.keyCode&&t.ctrlKey){var n=this.pathString.lastIndexOf("[");n>2&&(this.pathString=this.pathString.slice(0,n),this.canvas._objects.pop(),this.canvas.renderAll())}}},mounted:function(){"complete"==document.readyState?this.init():window.onload=this.init}},h=c,g=(i("1afd"),i("2877")),l=Object(g["a"])(h,e,a,!1,null,null,null);n["default"]=l.exports},baa5:function(t,n,i){var e=i("23e7"),a=i("e58c");e({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},e58c:function(t,n,i){"use strict";var e=i("fc6a"),a=i("a691"),r=i("50c4"),s=i("a640"),o=i("ae40"),c=Math.min,h=[].lastIndexOf,g=!!h&&1/[1].lastIndexOf(1,-0)<0,l=s("lastIndexOf"),p=o("indexOf",{ACCESSORS:!0,1:0}),d=g||!l||!p;t.exports=d?function(t){if(g)return h.apply(this,arguments)||0;var n=e(this),i=r(n.length),s=i-1;for(arguments.length>1&&(s=c(s,a(arguments[1]))),s<0&&(s=i+s);s>=0;s--)if(s in n&&n[s]===t)return s||0;return-1}:h}}]);
//# sourceMappingURL=chunk-29578f5d.51b57988.js.map